1 ЗАДАНИЕ 
**Шаг 1**

Создать простое SpringBoot-приложение. В качестве группы и артефакта проекта можно использовать следующие значения: groupId — ru.hogwarts, artefact — school.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b14dfe45-44d5-4eb8-adc8-029a9fae0e64/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b14dfe45-44d5-4eb8-adc8-029a9fae0e64/Рисунок41.png" width="40px" /> **Критерий оценки:** есть приложение с Maven, которое корректно запускается.

</aside>

**Шаг 2**

1. Создать каталоги model, service, controller в пакете ru.hogwarts.school. В model создать два класса: Student, Faculty. 

Класс **Student** имеет следующие поля: **Long id, String name, int age.** 

Класс **Faculty** имеет следующие поля: **Long id, String name, String color.**

1. Добавить конструкторы к классам, с помощью которых можно проинициализировать все поля (создать объект класса через new и передать в него все параметры). 
2. Создать методы для получения и изменения переменных класса. Сами переменные должны быть private. 

Если есть желание, можно добавить свои поля, которые могут быть вам необходимы.
<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3374bb2b-3d5b-4f99-82b3-520ffe6e01d3/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3374bb2b-3d5b-4f99-82b3-520ffe6e01d3/Рисунок41.png" width="40px" /> **Критерии оценки:** Есть структура приложения, присутствуют каталоги model, service, controller. Созданы два класса Student и Faculty в директории model. В них присутствует конструктор, необходимые поля, геттеры и сеттеры.

</aside>

**Шаг 3**

1. В каталоге **service** cоздать два класса сервисов для моделей: StudentService и FacultyService. 
2. В каждом из них завести HashMap, в котором следует хранить модели. Например Map<Long, Student>. 
3. Также создать счетчик идентификатора, который будет инкрементироваться при каждом добавлении нового объекта модели в HashMap. 
4. В каждом сервисе реализовать CRUD-методы для создания, чтения, изменения и удаления сущностей.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e7f7cd11-a234-4053-aef3-5b358008510e/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e7f7cd11-a234-4053-aef3-5b358008510e/Рисунок41.png" width="40px" /> **Критерии оценки:** Созданы два сервиса StudentService и FacultyService. В них реализованы CRUD-методы. Сервисы должны хранить состояние путем аккумулирования данных в HashMap.

</aside>

**Шаг 4**

1. В каталоге **controller** cоздать два класса контроллеров для сервисов: StudentController и FacultyController. 
2. В них добавить RequestMapping (“student” для StudentController и “faculty” для FacultyController).


2. 
3. В каждом контроллере реализовать эндпоинты для создания, получения, изменения и удаления сущностей, используя все правила формирования REST-запросов: GET-методы для получения данных, POST — для создания…

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0fdd9164-6ba9-45f7-b2c8-fa72d6d170f2/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0fdd9164-6ba9-45f7-b2c8-fa72d6d170f2/Рисунок41.png" width="40px" /> **Критерии оценки:** Созданы два контроллера как минимум с четырьмя CRUD-эндпоинтами. URL-маппинг и методы (GET, POST) используются по правилам построения REST-запросов, более подробно описанных в шпаргалке предыдущего урока.

</aside>

**Шаг 5**

1. Добавить фильтрацию студентов по возрасту. 

Для этого в StudentController добавить эндпоинт, который принимает число (возраст — поле age) и возвращает список студентов, у которых совпал возраст с переданным числом.

1. Добавить фильтрацию факультетов по цвету. 

Для этого в FacultyController добавить эндпоинт, который принимает строку (цвет — поле color) и возвращает список факультетов, у которых совпал цвет с переданной строкой.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0146b2b5-af56-4770-8520-e20d41522ddc/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0146b2b5-af56-4770-8520-e20d41522ddc/Рисунок41.png" width="40px" /> **Критерии оценки:** Созданы два эндпоинта в контроллерах StudentController и FacultyController, которые позволяют фильтровать студентов и факультеты.

</aside>


**Шаг 6**

Добавить swagger к проекту. Для этого добавить зависимость к проекту.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/055dc70e-6a39-4ac4-8d0c-f7b2ec5ad908/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/055dc70e-6a39-4ac4-8d0c-f7b2ec5ad908/Рисунок41.png" width="40px" /> **Критерии оценки:** перейти на страницу Swagger-ui в браузере и проверить, что реализация первых трех шагов работает, как ожидается, путем вызовов запросов через открывшийся интерфейс.

</aside>

**Шаг 7**

Установить Postman и вызвать все эндпоинты проекта, используя его.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7045fef9-4c1e-4975-836e-0cb596102de9/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7045fef9-4c1e-4975-836e-0cb596102de9/Рисунок41.png" width="40px" /> **Критерии оценки:** получилось вызвать все эндпоинты проекта и получить успешный ответ.

</aside>


ЗАДАНИЕ 2 
**Шаг 1**

Установить БД PostgreSQL. Создать базу данных hogwarts. Создать пользователя student с паролем chocolatefrog.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f1c137e5-8cda-4596-a67b-beb4d637ad33/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f1c137e5-8cda-4596-a67b-beb4d637ad33/Рисунок41.png" width="40px" /> **Критерии оценки:** На компьютер установлена база данных PostgreSQL. Создана база данных и роль для доступа к ней.

</aside>

**Шаг 2**

В application.properties приложения прописать следующие атрибуты:

- spring.datasource.url — путь до установленной БД;
- spring.datasource.username — имя пользователя для подключения, в нашем случае это student;
- spring.datasource.password — пароль пользователя: chocolatefrog;
- spring.jpa.hibernate.ddl = update.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/56245a9e-9f65-45bb-a07e-d527f496c5a2/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/56245a9e-9f65-45bb-a07e-d527f496c5a2/Рисунок41.png" width="40px" /> **Критерии оценки:** В файл application.properties добавлены четыре свойства. Приложение успешно запускается без ошибок.

</aside>

**Шаг 3**

Изменить модели Student и Faculty. К каждому классу добавить аннотацию @Entity. А к полю id добавить две аннотации: @Id и @GeneratedValue.

А также создать пакет repository, в котором будут находиться два интерфейса: StudentRepository и FacultyRepository. Оба этих интерфейса наследуют JpaRepository. Для интерфейса StudentRepository требуется указать, что в JpaRepository надо работать с моделью Student. Для FacultyRepository указать Faculty.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ad715dc0-430a-4b06-a4be-53810eb11187/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ad715dc0-430a-4b06-a4be-53810eb11187/Рисунок41.png" width="40px" /> **Критерии оценки:** В модели добавлены аннотации @Entity, @Id и @GeneratedValue. Создан пакет repository. В нем находятся два интерфейса: StudentRepository и FacultyRepository.

</aside>

**Шаг 4**

В сервисах создать приватные поля репозиториев. Для StudentService создать StudentRepository. Для FacultyService создать FacultyRepository. С помощью конструкторов подтягивать зависимости из контекста спринга (@Autowire).

В сервисах удалить HashMap, который использовали для хранения данных, и удалить счетчик идентификатора. Вместо них следует использовать функционал репозиториев.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9904be5f-3364-450c-abb5-856e1c5ba1c1/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9904be5f-3364-450c-abb5-856e1c5ba1c1/Рисунок41.png" width="40px" /> **Критерии оценки:** В сервисы добавлены репозитории. Переделана логика работы с данными. Теперь все данные хранятся в БД, а сервисы пользуются репозиториями для их получения.

</aside>

**Шаг 5**

Проверить все CRUD-запросы через Postman.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/be3e697d-a848-4ea4-bd54-ee7210a9b55a/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/be3e697d-a848-4ea4-bd54-ee7210a9b55a/Рисунок41.png" width="40px" /> **Критерий оценки:** Все запросы отрабатывают, как ожидается (без 500 кодов в ответе).

</aside>

ЗАДАНИЕ 3:
**Шаг 1**

Добавить эндпоинт для получения всех студентов, возраст которых находится в промежутке, пришедшем в запросе, т. е. в GET-запросе будут передаваться два числа (min и max). Для этого в репозитории следует создать метод findByAgeBetween().

Добавить эндпоинт для поиска факультета по имени или цвету, игнорируя регистр, т. е. в GET-запросе будет передана строка, по которой будет происходить фильтрация.

<aside>
🔥 **Критерии оценки:** Созданы два эндпоинта. Первый возвращает студентов, у которых возраст попадает в заданные границы. Второй возвращает факультет по названию или цвету.

</aside>

**Шаг 2**

Подключиться с помощью IDEA к базе данных и выполнить простой запрос select * from student.

<aside>
🔥 **Критерии оценки:** Подключение установлено, есть возможность просмотреть список таблиц. И как следствие SELECT-запрос возвращает данные о студентах.

</aside>

**Шаг 3**

Составить следующие SQL-запросы:

1. Получить всех студентов, возраст которых находится между 10 и 20 (можно подставить любые числа, главное, чтобы нижняя граница была меньше верхней).
2. Получить всех студентов, но отобразить только список их имен.
3. Получить всех студентов, у которых в имени присутствует буква «О» (или любая другая).
4. Получить всех студентов, у которых возраст меньше идентификатора.
5. Получить всех студентов упорядоченных по возрасту.

В корне проекта создать файл scripts.sql и поместить в него составленные запросы.

<aside>
🔥 **Критерии оценки:** В результате должно получиться 5 SQL-запросов, которые выполняют описанные требования. Составленные запросы расположены в файле scripts.sql

</aside>

**Шаг 4**

Настроить связь ManyToOne между студентами и факультетом. При этом у модели студента должно быть создано поле Faculty, а у модели факультета — список студентов.

Добавить два эндпоинта в соответствующие контроллеры которые позволят:

1. Получить факультет студента
2. Получить студентов факультета

<aside>
🔥 **Критерии оценки:** Настроить связь ManyToOne между студентами и факультетом. В результате в таблице студентов должна появиться колонка  faculty_id. Добавлены два эндпоинта, которые позволяют получить студентов факультета и факультет студента.

</aside>


ЗАДАНИЕ 4:
**Шаг 1**

Создать модель Avatar. В ней будем хранить аватарки студентов. В модель добавить следующие поля: Long id, String filePath, long fileSize, String mediaType, byte[] data, Student student.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dee928eb-31ed-47ff-9908-585276e39070/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/dee928eb-31ed-47ff-9908-585276e39070/Рисунок41.png" width="40px" /> **Критерии оценки:** Создана модель с необходимыми полями. У модели есть аннотации: @Entity, @Id, @GeneratedValue.

</aside>

**Шаг 2**

Настроить связь OneToOne между моделями Student и Avatar. Для этого к полю student в модели Avatar добавить аннотацию @OneToOne. Добавить контроллер, сервис и репозиторий для работы с моделью Avatar.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1969cc95-f5ec-4b24-999e-db0b70f974b2/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1969cc95-f5ec-4b24-999e-db0b70f974b2/Рисунок41.png" width="40px" /> **Критерии оценки:** Аннотация @OneToOne добавлена. После запуска приложения в таблице Avatar должна появиться колонка student_id. Созданы контроллер, сервис и репозиторий для модели Avatar.

</aside>

**Шаг 3**

Добавить три эндпоинта. Первый для загрузки картинки. При загрузке должно происходить сохранение данных как в БД, так и на локальный диск. Второй эндпоинт должен возвращать картинку из БД. Третий должен возвращать картинку из директории.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/abada8b5-1958-43aa-88f7-751da7689a2d/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/abada8b5-1958-43aa-88f7-751da7689a2d/Рисунок41.png" width="40px" /> **Критерии оценки:** Созданы три эндпоинта. Первый позволяет загружать картинки как в БД, так и на локальный диск. Остальные два эндпоинта позволяют получать данные из БД или директории, где они хранятся. Все три эндпоинта должны работать корректно в Swagger Ui.

</aside>

ЗАДАНИЕ 5:
Тесты:
**Шаг 1**

Создать класс для тестирования в пакете test. Создать по одному тесту на каждый эндпоинт контроллера StudentController, используя TestRestTemplate.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b3ece0ea-b544-4e72-9f11-12866926f3df/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b3ece0ea-b544-4e72-9f11-12866926f3df/Рисунок41.png" width="40px" /> **Критерии оценки:** В пакете test создан класс для тестирования StudentController. Для тестирования использовался TestRestTemplate. Для каждого эндпоинта контроллера StudentController создан как минимум один тест.

</aside>

**Шаг 2**

Создать еще один класс для тестирования в пакете test. Создать по одному тесту на каждый эндпоинт контроллера FacultyController, используя TestRestTemplate.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fdffee5c-f806-474f-ba68-202b9a3cd117/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fdffee5c-f806-474f-ba68-202b9a3cd117/Рисунок41.png" width="40px" /> **Критерии оценки:** В пакете test создан класс для тестирования FacultyController. Для тестирования использовался TestRestTemplate. Для каждого эндпоинта контроллера FacultyController создан как минимум один тест.

</aside>

## Задание 2

**Шаг 1**

Создать класс для тестирования в пакете test. Создать по одному тесту на каждый эндпоинт контроллера StudentController, используя WebMvcTest.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b3ece0ea-b544-4e72-9f11-12866926f3df/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b3ece0ea-b544-4e72-9f11-12866926f3df/Рисунок41.png" width="40px" /> **Критерии оценки:** В пакете test создан класс для тестирования StudentController. Для тестирования использовался WebMvcTest. Для каждого эндпоинта контроллера StudentController создан как минимум один тест.

</aside>

**Шаг 2**

Создать еще один класс для тестирования в пакете test. Создать по одному тесту на каждый эндпоинт контроллера FacultyController, используя WebMvcTest.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fdffee5c-f806-474f-ba68-202b9a3cd117/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fdffee5c-f806-474f-ba68-202b9a3cd117/Рисунок41.png" width="40px" /> **Критерии оценки:** В пакете test создан класс для тестирования FacultyController. Для тестирования использовался WebMvcTest. Для каждого эндпоинта контроллера FacultyController создан как минимум один тест.

</aside>

ЗАДАНИЕ 6:
**Шаг 1.** Использование аннотации @Query для вызова SQL из приложения.

Используйте аннотацию @Query и добавьте следующий функционал в проект:

- Возможность получить количество всех студентов в школе. Эндпоинт должен вернуть число.
- Возможность получить средний возраст студентов. Эндпоинт должен вернуть число.
- Возможность получать только пять последних студентов. Последние студенты считаются теми, у кого идентификатор больше других.

**Шаг 2.** Добавление пагинации к аватаркам.

Добавьте пагинацию для репозитория AvatarRepository и контроллер в AvatartController, чтобы можно было получать списки аватарок постранично.

Задание 7:
**Шаг 1**

С прошлых уроков у нас есть две таблицы: Student и Faculty. Необходимо для них создать следующие ограничения:

- Возраст студента не может быть меньше 16 лет.
- Имена студентов должны быть уникальными и не равны нулю.
- Пара “значение названия” - “цвет факультета” должна быть уникальной.
- При создании студента без возраста ему автоматически должно присваиваться 20 лет.

В корне проекта нужно создать файл scripts421.sql (что значит 4-й курс, 2-й урок, 1-е задание) и поместить в него запросы для создания ограничений.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c0cc3293-c2da-454d-bdfb-7729e8e1d40d/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c0cc3293-c2da-454d-bdfb-7729e8e1d40d/Рисунок41.png" width="40px" /> **Критерии оценки:** В корне проекта создан файл scripts421.sql.  В файле находятся запросы для создания ограничений.

</aside>

**Шаг 2**

В этом задании по описанию необходимо спроектировать таблицы, связи между ними и корректно определить типы данных. Здесь не важно, какой тип вы выберете, например, для данных, представленных в виде строки (varchar или text). Важно, что вы выберете один из строковых типов, а не числовых, например.
Описание структуры: у каждого человека есть машина. Причем несколько человек могут пользоваться одной машиной. У каждого человека есть имя, возраст и признак того, что у него есть права (или их нет). У каждой машины есть марка, модель и стоимость. Также не забудьте добавить таблицам первичные ключи и связать их.

В корне проекта нужно создать файл scripts422.sql и поместить в него запросы для создания таблиц.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ac8c74d6-75c7-4070-94bf-ed2a2241265b/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/ac8c74d6-75c7-4070-94bf-ed2a2241265b/Рисунок41.png" width="40px" /> **Критерий оценки:** Создан файл scripts422.sql. В нем находятся запросы для создания таблиц. Эти запросы полностью описывают предложенную структуру.

</aside>

**Шаг 3**

Составить первый JOIN-запрос, чтобы получить информацию обо всех студентах (достаточно получить только имя и возраст студента) школы Хогвартс вместе с названиями факультетов.

Составить второй JOIN-запрос, чтобы получить только тех студентов, у которых есть аватарки.

В корне проекта создать файл scripts423.sql и поместить в него запрос.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d2e774c5-2681-4530-87f1-4091f632d7e5/Рисунок41.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/d2e774c5-2681-4530-87f1-4091f632d7e5/Рисунок41.png" width="40px" /> **Критерий оценки:** **Создан файл scripts423.sql. В нем находятся два JOIN-запроса.

</aside>

ЗАДАНИЕ 8
**Шаг 1**

Добавить Liquibase к проекту. Создать файл для миграций с любым говорящим названием, которое относится к текущему уроку. В качестве названия можно использовать, например: lesson-three, course-four-lesson-three, index-practice и т.д.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b780527f-cb76-41d3-85d2-d26e7b1d9e06/Рисунок50.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b780527f-cb76-41d3-85d2-d26e7b1d9e06/Рисунок50.png" width="40px" /> **Критерии оценки.** Подключена зависимость liquibase-core. Создан пустой файл миграций. Настроен файл changelog-master.yml.

</aside>

**Шаг 2**

Добавить два индекса, используя миграции:
1) Индекс для поиска по имени студента.
2) Индекс для поиска по названию и цвету факультета.

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b3af98b1-196a-4a20-8051-134544dc5cac/Рисунок50.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b3af98b1-196a-4a20-8051-134544dc5cac/Рисунок50.png" width="40px" /> **Критерий оценки.** В файле миграций созданы два changeset с SQL-командами для создания индексов.

</aside>

ЗАДАНИЕ 9
**Шаг 1**

- Добавить в каждый метод сервиса сообщение. Сообщение должно говорить о том, что был вызван метод с определенным названием.
    
    Например, если вы вызываете метод createStudent, то производить вызов следующего кода:
    logger.info("Was invoked method for create student");
    
    Если у вас в коде есть исключения, то перед вызовом их стоит записать информацию в лог, используя необходимый уровень логирования. Например:
    logger.error("There is not student with id = " + id);
    
    Дополнительно постарайтесь добавить логи с уровнем логирования: debug и warning.
    

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7fddbb49-1540-411e-97c0-99309a5ffbcc/Рисунок50.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7fddbb49-1540-411e-97c0-99309a5ffbcc/Рисунок50.png" width="40px" /> **Критерии оценки:** Во все методы сервисов добавлено логирование.

</aside>

**Шаг 2**

- Создать контроллер InfoController. Добавить в него один эндпоинт GET /port.
    
    Этот эндпоинт будет возвращать одно значение - порт, на котором запущено приложение. В application.properties создать (если у вас его нет) свойство server.port = 8080. Это свойство указывает на порт, который будет использовать приложение. Именно это значение необходимо возвращать в эндпоинте GET /port
    

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/68c9ed63-5c9f-4e67-985d-52ee1cfdd66a/Рисунок50.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/68c9ed63-5c9f-4e67-985d-52ee1cfdd66a/Рисунок50.png" width="40px" /> **Критерии оценки:** При вызове эндпоинта GET /port должно возвращаться значение порта.

</aside>

**Шаг 3**

- В прошлом задании мы использовали свойство server.port. В этом пункте необходимо создать два конфигурационных файла.
    
    Каждый файл имеет уникальное значение для порта. Каждый конфигурационный файл будет относиться к определенному профилю. Таким образом, запуская приложение с различными профилями эндпоинт GET /port будет возвращать различные значения. Необходимо создать минимум два профиля. Для каждого профиля вам необходимо создать отдельный файл. 
    

<aside>
<img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f18efc52-c3df-4762-b2a5-b222377a319b/Рисунок50.png" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f18efc52-c3df-4762-b2a5-b222377a319b/Рисунок50.png" width="40px" /> **Критерии оценки:** Запуская приложение с различными профилями эндпоинт GET /port будет возвращать различные значения.

</aside>

ЗАДАНИЕ 10
**Шаг 1**

Добавить эндпоинт для получения всех имен всех студентов, чье имя начинается с буквы А. В ответе должен находиться отсортированный в алфавитном порядке список с именами в верхнем регистре. Для получения всех студентов из базы использовать метод репозитория - findAll().

<aside>
💡 **Критерии оценки:** Создан эндпоинт, который возвращает отсортированные в алфавитном порядке имена всех студентов в верхнем регистре, чье имя начинается на букву А.

</aside>

**Шаг 2**

Создать эндпоинт, который будет возвращать средний возраст всех студентов. Для получения информации о всех студентах опять же следует использовать метод репозитория - findAll().

<aside>
💡 **Критерии оценки:** Создан эндпоинт, который возвращает средний возраст всех студентов.

</aside>

**Шаг 3**

Создать эндпоинт, который будет возвращать самое длинное название факультета.

<aside>
💡 **Критерии оценки:** Создан эндпоинт, который возвращает самое длинное название факультета.

</aside>

**Шаг 4**

- Создать эндпоинт (не важно в каком контроллере), который будет возвращать целочисленное значение. Это значение вычисляется следующей формулой:int sum = Stream.iterate(1, a -> a +1) .limit(1_000_000) .reduce(0, (a, b) -> a + b );
    
    Необходимо придумать способ уменьшить время ответа эндпоинта путем модификации вышеописанного выражения.
    

<aside>
💡 **Критерии оценки:** Создан эндпоинт с модифицированной логикой предложенного решения. В результате модификаций эндпоинт возвращает значение за меньшее количество времени.

</aside>

ЗАДАНИЕ 11
**Шаг 1**

Создать в StudentController эндпоинт GET /students/print-parallel.
Эндпоинт должен выводить в консоль имена всех студентов в параллельном режиме, а именно:

- первые два имени вывести в основном потоке
- имена третьего и четвертого студента вывести в параллельном потоке
- имена пятого и шестого студента вывести в еще одном параллельном потоке.

Для вывода используйте команду System.out.println().
В итоге в консоли должен появиться список из шести имен в порядке, возможно отличном от порядка в коллекции.

<aside>
💡 Критерии оценки:

- Создан эндпоинт GET /students/print-parallel
- Эндпоинт GET /students/print-parallel обращается к сервису, где первые 2 студента распечатываются в Main потоке, а 4 следующих имени распечатываются в двух других потоках
</aside>

**Шаг 2**

Создать в StudentController эндпоинт GET /students/print-synchronized.
Эндпоинт должен выводить в консоль имена всех студентов в синхронном режиме.
Для этого создайте отдельный синхронизированный метод для вывода имен в консоль.
Далее необходимо, используя ранее созданный синхронизированный метод :

- первые два имени вывести в основном потоке
- имена третьего и четвертого студента в параллельном потоке
- имена пятого и шестого студента в еще одном параллельном потоке

В итоге в консоли должен появиться список из шести имен в порядке, возможно отличном от порядка в коллекции.

<aside>
💡 Критерии оценки:

- Создан эндпоинт GET /students/print-synchronized
- Создан синхронизированный метод для вывода имен студентов в консоль.
- Эндпоинт GET /students/print-synchronized обращается к сервису, где первые 2 студента распечатываются в Main потоке, а 4 следующих имени распечатываются через синхронизированный метод.
</aside>
